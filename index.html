<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Tes Dropdown Sederhana</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        select { font-size: 16px; padding: 5px; }
        .success { color: green; font-weight: bold; }
        .fail { color: red; font-weight: bold; }
    </style>
</head>
<body>

    <h1>Tes Pengisian Dropdown</h1>
    <p>Lihat daftar dropdown di bawah ini. Jika terisi lengkap, berarti semua file layer Anda sudah benar. Jika kosong, silakan buka konsol (F12) untuk melihat file mana yang masih bermasalah.</p>
    <hr>

    <label for="kabupatenSelect"><b>Daftar Kabupaten/Kota:</b></label>
    <br>
    <select id="kabupatenSelect" size="10">
        <option>--- Menunggu Hasil Tes ---</option>
    </select>

    <div id="hasilTes"></div>

    <script src="layers/Pacitan_1.js"></script>
    <script src="layers/Ponorogo_2.js"></script>
    <script src="layers/Trenggalek_3.js"></script>
    <script src="layers/Tulungagung_4.js"></script>
    <script src="layers/Blitar_5.js"></script>
    <script src="layers/KotaBlitar_6.js"></script>
    <script src="layers/Kediri_7.js"></script>
    <script src="layers/KotaKediri_8.js"></script>
    <script src="layers/Malang_9.js"></script>
    <script src="layers/KotaMalang_10.js"></script>
    <script src="layers/Lumajang_11.js"></script>
    <script src="layers/Jember_12.js"></script>
    <script src="layers/Banyuwangi_13.js"></script>
    <script src="layers/Bondowoso_14.js"></script>
    <script src="layers/Situbondo_15.js"></script>
    <script src="layers/Probolinggo_16.js"></script>
    <script src="layers/KotaProbolinggo_17.js"></script>
    <script src="layers/Pasuruan_18.js"></script>
    <script src="layers/KotaPasuruan_19.js"></script>
    <script src="layers/Sidoarjo_20.js"></script>
    <script src="layers/Mojokerto_21.js"></script>
    <script src="layers/KotaMojokerto_22.js"></script>
    <script src="layers/Jombang_23.js"></script>
    <script src="layers/Ngajuk_24.js"></script>
    <script src="layers/Madiun_25.js"></script>
    <script src="layers/KotaMadiun_26.js"></script>
    <script src="layers/Magetan_27.js"></script>
    <script src="layers/Ngawi_28.js"></script>
    <script src="layers/Bojonegoro_29.js"></script>
    <script src="layers/Tuban_30.js"></script>
    <script src="layers/Lamongan_31.js"></script>
    <script src="layers/Gresik_32.js"></script>
    <script src="layers/Bangkalan_33.js"></script>
    <script src="layers/Sampang_34.js"></script>
    <script src="layers/Pamekasan_35.js"></script>
    <script src="layers/Sumenep_36.js"></script>
    <script src="layers/Surabaya_37.js"></script>
    <script src="layers/Batu_38.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                console.log("Memulai tes pengisian dropdown...");
                const kabSelect = document.getElementById('kabupatenSelect');
                const hasilTesDiv = document.getElementById('hasilTes');

                // Definisikan data, menghubungkan nama dengan variabel layer
                const kabupatenData = [
                    { name: 'Pacitan', var: layer_Pacitan_1 }, { name: 'Ponorogo', var: layer_Ponorogo_2 },
                    { name: 'Trenggalek', var: layer_Trenggalek_3 }, { name: 'Tulungagung', var: layer_Tulungagung_4 },
                    { name: 'Blitar', var: layer_Blitar_5 }, { name: 'Kota Blitar', var: layer_KotaBlitar_6 },
                    { name: 'Kediri', var: layer_Kediri_7 }, { name: 'Kota Kediri', var: layer_KotaKediri_8 },
                    { name: 'Malang', var: layer_Malang_9 }, { name: 'Kota Malang', var: layer_KotaMalang_10 },
                    { name: 'Lumajang', var: layer_Lumajang_11 }, { name: 'Jember', var: layer_Jember_12 },
                    { name: 'Banyuwangi', var: layer_Banyuwangi_13 }, { name: 'Bondowoso', var: layer_Bondowoso_14 },
                    { name: 'Situbondo', var: layer_Situbondo_15 }, { name: 'Probolinggo', var: layer_Probolinggo_16 },
                    { name: 'Kota Probolinggo', var: layer_KotaProbolinggo_17 }, { name: 'Pasuruan', var: layer_Pasuruan_18 },
                    { name: 'Kota Pasuruan', var: layer_KotaPasuruan_19 }, { name: 'Sidoarjo', var: layer_Sidoarjo_20 },
                    { name: 'Mojokerto', var: layer_Mojokerto_21 }, { name: 'Kota Mojokerto', var: layer_KotaMojokerto_22 },
                    { name: 'Jombang', var: layer_Jombang_23 }, { name: 'Nganjuk', var: layer_Ngajuk_24 },
                    { name: 'Madiun', var: layer_Madiun_25 }, { name: 'Kota Madiun', var: layer_KotaMadiun_26 },
                    { name: 'Magetan', var: layer_Magetan_27 }, { name: 'Ngawi', var: layer_Ngawi_28 },
                    { name: 'Bojonegoro', var: layer_Bojonegoro_29 }, { name: 'Tuban', var: layer_Tuban_30 },
                    { name: 'Lamongan', var: layer_Lamongan_31 }, { name: 'Gresik', var: layer_Gresik_32 },
                    { name: 'Bangkalan', var: layer_Bangkalan_33 }, { name: 'Sampang', var: layer_Sampang_34 },
                    { name: 'Pamekasan', var: layer_Pamekasan_35 }, { name: 'Sumenep', var: layer_Sumenep_36 },
                    { name: 'Kota Surabaya', var: layer_Surabaya_37 }, { name: 'Kota Batu', var: layer_Batu_38 }
                ];

                kabSelect.innerHTML = ''; // Kosongkan dropdown
                let errorCount = 0;

                kabupatenData.forEach(item => {
                    // Cek jika variabel layer ada sebelum digunakan
                    if (typeof item.var !== 'undefined') {
                        const opt = document.createElement('option');
                        opt.textContent = `✅ ${item.name}`;
                        kabSelect.appendChild(opt);
                    } else {
                        const opt = document.createElement('option');
                        opt.textContent = `❌ ${item.name} (GAGAL DIMUAT)`;
                        opt.style.color = 'red';
                        kabSelect.appendChild(opt);
                        console.error(`ERROR: Variabel untuk "${item.name}" tidak ditemukan. Periksa file .js yang sesuai!`);
                        errorCount++;
                    }
                });
                
                if(errorCount === 0) {
                    console.log("SUKSES! Semua 38 variabel layer berhasil dimuat.");
                    hasilTesDiv.innerHTML = '<h2 class="success">HASIL TES: SUKSES!</h2><p>Semua file layer Anda sudah benar. Sekarang kita bisa kembali ke kode peta utama.</p>';
                } else {
                    console.error(`GAGAL! Ditemukan ${errorCount} file layer yang bermasalah. Lihat daftar di atas.`);
                    hasilTesDiv.innerHTML = `<h2 class="fail">HASIL TES: GAGAL!</h2><p>Ditemukan ${errorCount} file layer yang bermasalah. Periksa daftar di atas dan pesan error di konsol (F12) untuk melihat file mana saja yang perlu diperbaiki.</p>`;
                }

            } catch (e) {
                console.error("Terjadi error fatal saat menjalankan tes:", e);
                hasilTesDiv.innerHTML = `<h2 class="fail">HASIL TES: GAGAL!</h2><p>Terjadi error fatal. Kemungkinan ada kesalahan ketik pada nama file di tag script. Periksa Konsol (F12).</p>`;
            }
        });
    </script>
</body>
</html>
