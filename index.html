<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,width=device-width,maximum-scale=1,user-scalable=no">
    <link rel="stylesheet" href="./resources/ol.css">
    <link rel="stylesheet" href="./resources/fontawesome-all.min.css">
    <link rel="stylesheet" href="./resources/photon-geocoder-autocomplete.min.css">
    <link rel="stylesheet" href="./resources/ol-layerswitcher.css">
    <link rel="stylesheet" href="./resources/qgis2web.css">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #ffffff;
            overflow: hidden; /* Mencegah scroll bar pada body */
            font-family: Arial, sans-serif;
        }
        #map {
            height: 100%;
            width: 100%; /* Map akan mengisi sisa ruang */
        }
        #main-container {
            display: flex;
            height: 100%;
            width: 100%;
        }
        #sidebar {
            width: 320px;
            height: 100%;
            flex-shrink: 0; /* Mencegah sidebar menyusut */
            background: white;
            padding: 15px;
            box-sizing: border-box;
            overflow-y: auto;
            border-right: 1px solid #ccc;
        }
        .ol-popup {
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.2);
        }
    </style>
    <title>ESG Jawa Timur</title>
</head>
<body>

<div id="main-container">
    <div id="sidebar">
        <h2 style="margin-top:0">ESG Jawa Timur</h2>
        <label for="select-kabupaten">Pilih Kabupaten:</label>
        <select id="select-kabupaten" style="width:100%; margin-bottom:10px;"></select>
        <input id="search-box" type="text" placeholder="Cari desa..." style="width:100%; margin-bottom:20px;">
        <div class="legend-box">
            <strong>Legenda:</strong>
            <div style="display: flex; align-items: center; margin-top: 6px;">
                <div style="width: 20px; height: 20px; background: green; margin-right: 10px;"></div>Klaster 1
            </div>
            <div style="display: flex; align-items: center; margin-top: 6px;">
                <div style="width: 20px; height: 20px; background: orange; margin-right: 10px;"></div>Klaster 2
            </div>
            <div style="display: flex; align-items: center; margin-top: 6px;">
                <div style="width: 20px; height: 20px; background: red; margin-right: 10px;"></div>Klaster 3
            </div>
        </div>
    </div>
    <div id="map">
        <div id="popup" class="ol-popup">
            <a href="#" id="popup-closer" class="ol-popup-closer"></a>
            <div id="popup-content"></div>
        </div>
    </div>
</div>

<script src="resources/qgis2web_expressions.js"></script>
<script src="./resources/functions.js"></script>
<script src="./resources/ol.js"></script>
<script src="./resources/ol-layerswitcher.js"></script>
<script src="resources/photon-geocoder-autocomplete.min.js"></script>

<script src="layers/Pacitan_1.js"></script><script src="layers/Ponorogo_2.js"></script><script src="layers/Trenggalek_3.js"></script><script src="layers/Tulungagung_4.js"></script><script src="layers/Blitar_5.js"></script><script src="layers/KotaBlitar_6.js"></script><script src="layers/Kediri_7.js"></script><script src="layers/KotaKediri_8.js"></script><script src="layers/Malang_9.js"></script><script src="layers/KotaMalang_10.js"></script><script src="layers/Lumajang_11.js"></script><script src="layers/Jember_12.js"></script><script src="layers/Banyuwangi_13.js"></script><script src="layers/Bondowoso_14.js"></script><script src="layers/Situbondo_15.js"></script><script src="layers/Probolinggo_16.js"></script><script src="layers/KotaProbolinggo_17.js"></script><script src="layers/Pasuruan_18.js"></script><script src="layers/KotaPasuruan_19.js"></script><script src="layers/Sidoarjo_20.js"></script><script src="layers/Mojokerto_21.js"></script><script src="layers/KotaMojokerto_22.js"></script><script src="layers/Jombang_23.js"></script><script src="layers/Ngajuk_24.js"></script><script src="layers/Madiun_25.js"></script><script src="layers/KotaMadiun_26.js"></script><script src="layers/Magetan_27.js"></script><script src="layers/Ngawi_28.js"></script><script src="layers/Bojonegoro_29.js"></script><script src="layers/Tuban_30.js"></script><script src="layers/Lamongan_31.js"></script><script src="layers/Gresik_32.js"></script><script src="layers/Bangkalan_33.js"></script><script src="layers/Sampang_34.js"></script><script src="layers/Pamekasan_35.js"></script><script src="layers/Sumenep_36.js"></script><script src="layers/Surabaya_37.js"></script><script src="layers/Batu_38.js"></script><script src="layers/BatasKabupaten_39.js"></script>
<script src="styles/Pacitan_1_style.js"></script><script src="styles/Ponorogo_2_style.js"></script><script src="styles/Trenggalek_3_style.js"></script><script src="styles/Tulungagung_4_style.js"></script><script src="styles/Blitar_5_style.js"></script><script src="styles/KotaBlitar_6_style.js"></script><script src="styles/Kediri_7_style.js"></script><script src="styles/KotaKediri_8_style.js"></script><script src="styles/Malang_9_style.js"></script><script src="styles/KotaMalang_10_style.js"></script><script src="styles/Lumajang_11_style.js"></script><script src="styles/Jember_12_style.js"></script><script src="styles/Banyuwangi_13_style.js"></script><script src="styles/Bondowoso_14_style.js"></script><script src="styles/Situbondo_15_style.js"></script><script src="styles/Probolinggo_16_style.js"></script><script src="styles/KotaProbolinggo_17_style.js"></script><script src="styles/Pasuruan_18_style.js"></script><script src="styles/KotaPasuruan_19_style.js"></script><script src="styles/Sidoarjo_20_style.js"></script><script src="styles/Mojokerto_21_style.js"></script><script src="styles/KotaMojokerto_22_style.js"></script><script src="styles/Jombang_23_style.js"></script><script src="styles/Ngajuk_24_style.js"></script><script src="styles/Madiun_25_style.js"></script><script src="styles/KotaMadiun_26_style.js"></script><script src="styles/Magetan_27_style.js"></script><script src="styles/Ngawi_28_style.js"></script><script src="styles/Bojonegoro_29_style.js"></script><script src="styles/Tuban_30_style.js"></script><script src="styles/Lamongan_31_style.js"></script><script src="styles/Gresik_32_style.js"></script><script src="styles/Bangkalan_33_style.js"></script><script src="styles/Sampang_34_style.js"></script><script src="styles/Pamekasan_35_style.js"></script><script src="styles/Sumenep_36_style.js"></script><script src="styles/Surabaya_37_style.js"></script><script src="styles/Batu_38_style.js"></script><script src="styles/BatasKabupaten_39_style.js"></script>

<script src="./layers/layers.js" type="text/javascript"></script>
<script src="./resources/Autolinker.min.js"></script>
<script src="./resources/qgis2web.js"></script>

<script>
    const kabupatenList = [
        "Pacitan", "Ponorogo", "Trenggalek", "Tulungagung", "Blitar", "KotaBlitar", "Kediri", "KotaKediri",
        "Malang", "KotaMalang", "Lumajang", "Jember", "Banyuwangi", "Bondowoso", "Situbondo", "Probolinggo",
        "KotaProbolinggo", "Pasuruan", "KotaPasuruan", "Sidoarjo", "Mojokerto", "KotaMojokerto", "Jombang",
        "Ngajuk", "Madiun", "KotaMadiun", "Magetan", "Ngawi", "Bojonegoro", "Tuban", "Lamongan", "Gresik",
        "Bangkalan", "Sampang", "Pamekasan", "Sumenep", "Surabaya", "Batu"
    ];

    const selectKabupaten = document.getElementById('select-kabupaten');
    // Tambahkan opsi default
    const defaultOpt = document.createElement('option');
    defaultOpt.value = "";
    defaultOpt.textContent = "-- Pilih Kabupaten --";
    selectKabupaten.appendChild(defaultOpt);

    kabupatenList.forEach(name => {
        const opt = document.createElement('option');
        opt.value = name;
        opt.textContent = name.replace(/([A-Z])/g, ' $1').trim(); // Menambahkan spasi, misal: "KotaBlitar" -> "Kota Blitar"
        selectKabupaten.appendChild(opt);
    });

    // NOTE: Kode untuk inisialisasi peta (`new ol.Map`) tidak diperlukan di sini
    // karena sudah ditangani oleh file `resources/qgis2web.js`
</script>

</body>
</html>
